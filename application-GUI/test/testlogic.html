<html>
 <head>
	<title>Test Page for logic system</title>
		<script src="http://code.jquery.com/jquery-latest.js"></script>
		<link rel="stylesheet" href="http://code.jquery.com/qunit/git/qunit.css" type="text/css" media="screen" />
		<script type="text/javascript" src="http://code.jquery.com/qunit/git/qunit.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" type="text/javascript"></script>
		<script src="../../jquery-1.3.2.min.js" type="text/javascript"></script>
		<script src="../../loadjson.js"/> </script>
 </head>
 <body>
  <script language="javascript">


	function testNulljsondata(){
		window.jsondata=[];
		assertNull("If window.jsondata is null, should return null", getEntryFromFile(3, "ITEM0"));
	}
	
	function testWrongFile(){
		assertEquals("If file does not exist", undefined, loadfile(getEntryFromFile, 6, "ITEM0", '../../data/sampldata.json'));
	}
	
	function testWrongFileTwo(){
		assertEquals("If file does not exist", undefined, displayInfo(6, "ITEM0", '../../data/sampldata.json'));
	}
	
	function testNonexistentPrimaryKey(){
		assertNull("Primary key does not exist", displayInfo(180, "ITEM0", '../../data/sampledata.json'));
	}
	
	function testNonexistentAction(){
		assertNull("Action does not exist", displayInfo(6, "ITEM123", '../../data/sampledata.json'));
	}

  </script>

  <script>

// Tell QUnit that you expect three assertion to run
test('asynchronous test', 1, function() {
	// Pause the test
	stop();

	equals( displayInfo(6, 'ITEM0', 'sampledata02.json'), {title:"Item 1", prev:"2", pk:3, type:"ITEM"},  'If you pass in 6 as primary key and ITEM0 as action');
	
	setTimeout(function() {
		start();
	}, 5);
});

asyncTest('Asynchronous test', 1, function() {
  setTimeout(function() {
    start();
    // Here tests
	equals( displayInfo(6, 'ITEM0', '../../sampledata.json'), {title:"Item 1", prev:"2", pk:3, type:"ITEM"},  'If you pass in 6 as primary key and ITEM0 as action');

  }, 3000);
});

asyncTest("Test JSON API 1", 1, function() {
	$.getJSON("sampledata02.json", function(data) {
  		setTimeout(function() {
    		start();

        	equals(data.color, "blue", "Found it");
		}, 3000);
	});
});



  </script>

  <h1 id="qunit-header">QUnit example</h1>
 <h2 id="qunit-banner"></h2>
 <div id="qunit-testrunner-toolbar"></div>
 <h2 id="qunit-userAgent"></h2>
 <ol id="qunit-tests"></ol>
 <div id="qunit-fixture">test markup, will be hidden</div>
 </body>
</html>
